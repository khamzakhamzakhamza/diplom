<!<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Відеотрансляція</title>
  </head>
  <body>
    <div id="menu" width = "100%" height ="50px"/>
    <video id = "video" width="100%" height="100%" autoplay="true"></video>
    <script>
        var menu = document.getElementById('menu');
         var video = document.getElementById('video');

         navigator.mediaDevices.enumerateDevices()
         .then(function(result) {
           var i = 1;

           result.forEach(function(device){

             if (device.kind == "videoinput"){

               var btn = document.createElement("BUTTON");
               btn.innerHTML = "Камера " + i;

               if (menu != null)
                this.menu.appendChild(btn);

               console.log(device.kind + ": " + device.label +
                " id = " + device.deviceId);

                i++;
              }
           });

          })
          .catch(function(err) {
            console.log(err.name + ": " + err.message);
          });

         if (navigator.mediaDevices.getUserMedia) {
            navigator.mediaDevices.getUserMedia({ video: true, audio:false })
            .then(function (stream) {
                video.srcObject = stream;
          })
        .catch(function (error) {
        });
        }
    </script>
  </body>
</html>
